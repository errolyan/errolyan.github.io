# 第178期 如何使用AI做代码开发-claude code让我翻倍效率

上周我无意间组建了一个开发团队。只不过，这个“团队”其实只有我、Claude Code和Codex——后两者分别占据我屏幕的两半，活像两个互不相让、勉强容忍对方存在的工程师。

说实话，这体验简直太神奇了。如果你也曾希望能以10倍的速度高效工作，同时又不至于忙到崩溃，那么这种配置或许就是最接近真实人类协作感的AI结对编程方式。

接下来我就来具体说说它的运作方式——没有夸大其词，只有经过验证的实用方法。

![fyeZc8](https://raw.githubusercontent.com/errolyan/tuchuang/master/uPic/fyeZc8.png)

## 第一步：从Claude Code开始
Claude Code就像那种不先写出完整的系统设计文档，就绝不开始写代码的工程师。不过事实证明，这其实是件好事。

比如当我对Claude Code提出这样的需求：

“帮我开发一个Flask应用，实现PDF上传和摘要生成功能。”

它不会直接着手写代码，而是先进行规划，具体规划如下：

# Claude的规划
1. 搭建Flask项目
2. 添加/upload接口
3. 使用PyPDF2提取文本
4. 通过OpenAI API生成文本摘要
5. 将摘要结果返回给用户

这种极致的条理性甚至有点让人觉得“过于讲究”，但这正是它的价值所在——Claude能提供清晰的方向，就像一个真正懂行的项目经理（要知道，这样的角色可不多见）。

## 第二步：将规划交给Codex
接下来才是最有意思的环节——把这份条理清晰的规划交给Codex。

Codex说话从不拐弯抹角，它会直接指出问题：

“第三步：PyPDF2的性能一般，建议试试pdfplumber，它对复杂的PDF编码兼容性更好。”
“第四步：这样做会遇到API调用限制，建议添加批量处理或速率限制功能。”

Codex就像那种“经验丰富、见怪不怪”的资深工程师，而且它的判断永远是对的。于是我会把它的反馈复制下来，转达给Claude，就像项目经理传递客户需求一样。

之后Claude会更新规划，Codex再进行审核，如此循环往复。

## 第三步：让它们“争论”，你只需旁观
到了某个阶段你会发现，自己根本不用写代码，而是在调解一场高效的AI“辩论”。

比如Claude写出的代码逻辑优雅但不够完整，这时Codex会这样点评：

# “兄弟，你没处理空文件上传的情况啊。”
# “而且还少了API密钥校验，这可是新手才会犯的错。”

接着Claude会以最委婉的方式“为自己辩护”，并完善代码：

```python
def summarize_pdf(file):
    text = extract_text(file)
    if not text:
        raise ValueError("PDF为空，无法生成摘要。")
    api_key = os.getenv("OPENAI_API_KEY")
    if not api_key:
        raise EnvironmentError("缺少API密钥。")
    return call_openai_api(text, api_key)
```

这样一来，代码就能正常运行了。

整个流程就是这样：Claude——Codex——Claude——Codex——问题解决。

## 第四步：谁解决了对方的问题，谁就当“主导者”
我有一个不太严谨的规则：

谁最后解决了bug，谁就暂时负责主导开发，直到下一次出现问题为止。

有时候，Claude那种“注重逻辑完整性”的特质能派上用场；有时候，Codex那种“直言不讳、注重实效”的态度又能拯救局面。你只需在两者之间不断协调，直到终端不再出现错误提示就行。

这种感觉就像在管理两个性格张扬却才华横溢的天才——不过是那种能出成果的天才。

## 成果：10倍速开发
我已经用这种方式完成了好几个项目，包括小型工具、API接口，甚至还有一个React仪表盘。毫不夸张地说，这种配置能将开发时间缩短70%到80%。

你不再是一个人孤军奋战，而是在管理一个永不停歇、还从不抱怨的反馈循环（除非算上Claude偶尔会说的“抱歉，我好像理解错了”）。

## 额外建议：像和人聊天一样和它们交流
这一点听起来可能有点奇怪，但事实确实如此——如果你用更随意的语气和它们交流，它们的响应效果会更好。

比如：

# 不要这样说：
“重写这段代码。”

# 应该这样说：
“嘿，Claude，Codex说你写的错误处理不够完善，你能优化一下吗？”

这样它们就能真正基于彼此的语境进行协作，就像真正的团队成员在相互切磋、力争做得更好一样。两种方式得到的结果质量差别之大，简直令人惊讶。

## 最后的想法
如果你还只是把AI工具当成“功能增强版自动补全”，那可就太浪费了。AI真正的力量在于协作，而不是单纯的内容生成。

让Claude负责规划，让Codex负责点评，而你则掌控全局。

这样一来，你不仅能提高开发速度，还能更快地学习新知识，而且说实话——编程这件事也会重新变得有趣起来。

这种组合给人的感觉，与其说是“使用AI”，不如说是在管理一个24小时不休息的专属开发团队。

相信我，最终的结果绝对值得你投入的成本。